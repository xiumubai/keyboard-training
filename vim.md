## 快捷键

i insert 模式

ctrl+[ normal 模式

j 下 k 上 l 右 h 左

## 快速的移动光标配置

https://github.com/VSCodeVim/Vim#mac

系统设置 键盘 按键重复和重复前延迟拉到最右边

## vim 退出

esc 退出编辑模式

:wq 退出 vim 并保存

:q! 强制退出 vim

## 行的操作

- 移动至`行首`
  - ^ 行首,第一个不是 blank 的字符 `改键为 “H”`
  - 0 行首
- 移动至`行尾`
  - g\_ 行位，第一个不是 blank 的字符 `改键为 “L”`
  - $
- 插入`行首` => `I`
- 插入`行尾` => `A`
- 插入`上一行` => `大写的O`
- 插入`下一行` => `小写的o`
- 删除整行 => `dd`
- 复制整行 => `yy`
- 粘贴整行 => `d`

## 操作相关

### 删除 d

- d 0 删除到行首 修改成方便的映射 d H(需要修改 settings.json)
- d g\_ 删除到行尾 修改成方便的映射 d L(需要修改 settings.json)
- d l 删除后一个字符
- d h 删除前一个字符
- d e 删除到单词尾部
- d w 删除到下一个单词首
- d b 删除到单词首

### 复制 y

c 和 y 同 d

### 删除并进入 insert 模式 c

c 和 y 同 d

## 单词/字符串的移动相关

- e 往后移动到单词结尾
- w 往后移动到单词开头
- b 往前移动到单词开头
- ge 往前移动到单词结尾

e/b/w+shift 为移动到字符串的开头或者结尾

## 组合键

- cw 删除当前单词并编辑
- cW 编辑字符串
- dw dW
- ea 来到当前单词结尾并插入
- wi 移动到下一个单词开头并插入
- bi 移动到单词开头并插入
- gea 移动到上一个单词结尾并插入
- ciw 当光标在单词中间时删除当前的单词并插入

## 删除单个字符

- x 删除光标位置的字符
- X 删除光标之前位置的字符

## 删除单个字符并且插入

- s 删除光标位置的字符并进入 insert 模式
- S 删除光标所在的行并进入 insert 模式

## 替换字符

- r 替换字符
- R 替换多个字符，据观察这时 vim 是进入了 replace 模式，可以通过方向键调整需要替换的字符

## redo/undo

- u 撤销
- ctrl + r 重做(撤销 撤销)

## 可撤销块

u、ctrl + u 都是基于可撤销块来进行操作。
在键入 ↑ 、↓ 、← 、 → 会生成新的可撤销块

## 可视化模式

v：基于字符（再次按 v 会取消）
V：基于行（同上）
Ctrl+v：基于块（处理多行文本）
任意切换：不同可视化可以互相切换
退出可视化模式：esc / ctrl + [ / v / V

## 导航

ve：选中当前单词
o：切换可视区的光标位置（选中三行发现最上面漏了一行）
gv：回到上一次选择的选择区域（选中完成之后想做处理，突然又不想处理，接着写代码还是觉得需要处理）

## 语法

选中 + 操作
正常是：操作 + 范围

## 技巧

跨多行编辑：给多行的后面加分号：配合 A 或者 I
复制粘贴：利用系统的剪贴板（拥有 2 个剪贴板）
尽可能的少用可视化模式：会增加操作的步骤

## 认识文本对象

文本对象是结构化(范围)的，可以进行快速的选择

## 语法

oprator + 内部/ 外部+ 文本对象
可视化模式 + 内部/ 外部+ 文本对象 - 比如

## 内部

i

## 外部

a

## 对象

### v 相关的操作（选中）

vi( 选中括号里面的内容,可以用 b 代替(
va( 选中包含括号的内容,可以用 b 代替(
viw 选中当前的单词
vaw 选中包含单词前后的空格
vi' 选中字符串里的内容
vi" 选中字符串里的内容
vi` 选中字符串里的内容

### d 相关的操作（删除）

di< 删除 <> 里面的内容
dit 删除标签里的内容

## 常用技巧

via 选中单个参数
vaa 选中单个参数和前面的符号

## 滚动

- ctrl+f 向下滚动一屏
- ctrl+b 向上滚动一屏
- ctrl+d 向下滚动半屏
- ctrl+u 向上滚动半屏
- ctrl+e 向下滚动一行
- ctrl+y 向上滚动一行

## 其他操作

- zz 将当前行至于屏幕中央
- zt 将当前行置于屏幕顶部
- zb 将当前行置于屏幕底部
- gg 跳到文件首
- G 跳到文件尾
- 指定行跳转 行数+gg/G

## 单行搜索

f + 搜索字符 + ; 正向搜索
F + 搜索字符 + ; 反向搜索
t
T

使用技巧： 移动的时候使用 f，组合 c/d 使用 t

dt + M 删除 M 之前的字符

## 全局搜索

/ + 字符 + 回车 向后查找
? + 字符 + 回车 向前查找
n 查找下一个
N 查找上一个

```
# 向下查找
* 向上查找
```

例子： /test + n 全局搜索 test,按 n 继续查找下一个

/ + 上下方向键 查看搜索历史

## 更高效的移动-想去哪里就去哪里

使用的两个插件： easymotion sneak, 默认已经集成到了 vim 中了，需要进行配置

## 配置

在 settings.json 中打开

```
"vim.easymotion": true,
```

改键

```
"vim.leader": "<Space>"
```

## 快捷键

### 基于单词

Space + Space + w
e
b
ge

### 基于行

l
h
j
k
Space + Space + Space + j

## 数字

### 语法

1. 数字+操作+动作: 3dw
2. 操作+数字+动作: d3w

好处：保持了连贯的历史动作

坏处: 需要又你思考的时间

## 点

重复上一次的修改：增加删除修改

离开插入模式之前的所有操作记录

删除命令：

- bde
- dbx
- diw

核心：一键移动，一键操作

> 能够重复就不要用次数
